<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required Meta Tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Experience DARKLIGHT, New Zealand's first immersive light exhibition at Brad's Warehouse, Auckland from May 2-4, 2025">
    
    <!-- Social Meta Tags -->
    <meta property="og:title" content="DARKLIGHT â€“ Immersive Light & Sound Exhibition">
    <meta property="og:image" content="https://example.com/path-to-social-image.jpg">
    
    <!-- Fonts & Styles -->
    <link rel="stylesheet" href="https://use.typekit.net/efe5rwd.css">
    <link rel="stylesheet" href="css/styles.css">
    
    <!-- Favicon -->
    <link rel="shortcut icon" href="favicon.png">
    
    <!-- CMS & Identity -->
    <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    <script src="https://unpkg.com/js-yaml@4.1.0/dist/js-yaml.min.js"></script>
    
    <title>DARKLIGHT Immersive Light & Sound Exhibition</title>
</head>

<body class="homepage">
    <!-- Logo (Simplified version) -->
     <div class="logo">
        <a href="index.html">
            <img src="images/logo1.svg" alt="DARKLIGHT immersive light and sound exhibition in Auckland" width="100%">
        </a>
    </div>

    <!-- Main Content -->
    <div class="content">
        <h2 id="subtitle">A first-of-its-kind light & sound experience</h2>
        <h1 id="main-content">
            <span id="title">A Descent Into Colour</span><br>
            <span id="dates">2-4th May 2025</span><br>
            <span id="location">9/11 Durham Lane, Auckland</span>
        </h1>
        
        <div class="ticket-container" id="ticket-container">
            <!-- Ticket buttons will be dynamically inserted here -->
        </div>
    </div>

    <!-- Partners Section -->
    <div id="partners-section">
        <h2>Special thanks</h2>
        <div class="partners-logos">
            <a href="https://www.drinkalmighty.com/" target="_blank"><img src="images/partners/almighty.svg" alt="Almighty"></a>
            <a href="https://www.asahibeverages.co.nz" target="_blank"><img src="images/partners/asahi.svg" alt="Asahi"></a>
            <!-- Add other partner logos -->
        </div>
    </div>

    <!-- Social Icons -->
    <div class="social-icons">
        <a href="https://instagram.com/darklight_experience" target="_blank">
            <img src="images/Instagram.svg" alt="Instagram">
        </a>
        <a href="https://facebook.com/experiencedarklight" target="_blank">
            <img src="images/Facebook.svg" alt="Facebook">
        </a>
    </div>

    <!-- Floating Buttons -->
    <div class="floating-buttons">
        <button><a href="about-darklight.html">About</a></button>
        <button><a href="faq-darklight.html">FAQs</a></button>
        <button><a href="about-resonate.html">Resonate</a></button>
        <button><a href="#partners-section">Partners</a></button>
    </div>

    <!-- JavaScript -->
    <script>
        // Load home page content
        fetch('/content/home.md')
            .then(response => response.text())
            .then(text => {
                const parts = text.split('---');
                if (parts.length >= 2) {
                    const yamlContent = parts[1];
                    const data = jsyaml.load(yamlContent);
                    
                    // Update page elements
                    if (data.title) document.getElementById('title').textContent = data.title;
                    if (data.subtitle) document.getElementById('subtitle').textContent = data.subtitle;
                    if (data.dates) document.getElementById('dates').textContent = data.dates;
                    if (data.location) document.getElementById('location').textContent = data.location;
                    
                    // Handle ticket buttons
                    const ticketContainer = document.getElementById('ticket-container');
                    if (data.ticket_buttons && data.ticket_buttons.length > 0) {
                        ticketContainer.innerHTML = data.ticket_buttons
                            .map(button => `
                                <button class="ticket-button${button.sold_out ? ' sold-out' : ''}">
                                    <a href="${button.link}" target="${button.target || '_blank'}">${button.text}${button.sold_out ? ' (Sold Out)' : ''}</a>
                                </button>
                            `)
                            .join('');
                    }
                    
                    console.log('Loaded content:', data);
                }
            })
            .catch(err => console.error('Failed to load content:', err));

        // Netlify Identity
        if (window.netlifyIdentity) {
            window.netlifyIdentity.on("init", user => {
                if (!user) {
                    window.netlifyIdentity.on("login", () => {
                        document.location.href = "/admin/";
                    });
                }
            });
        }
    </script>
</body>
</html>